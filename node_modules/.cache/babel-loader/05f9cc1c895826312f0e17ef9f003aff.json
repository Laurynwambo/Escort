{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Laureen\\\\Downloads\\\\escort\\\\client\\\\src\\\\components\\\\adminDashboard\\\\usersManagement\\\\UsersManagement.js\";\nimport React, { Component, Fragment } from \"react\"; // import \"../main/Main.css\";\n// import { useSelector } from \"react-redux\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faList } from \"@fortawesome/free-solid-svg-icons/faList\";\nimport ReactDatatable from '@ashvin27/react-datatable';\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport UserAddModal from \"./UserAddModal\";\nimport UserUpdateModal from \"./UserUpdateModal\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UsersManagement extends Component {\n  constructor(props) {\n    super(props);\n    this.columns = [{\n      key: \"_id\",\n      text: \"Id\",\n      className: \"id\",\n      align: \"left\",\n      sortable: true\n    }, {\n      key: \"name\",\n      text: \"Name\",\n      className: \"name\",\n      align: \"left\",\n      sortable: true\n    }, {\n      key: \"email\",\n      text: \"Email\",\n      className: \"email\",\n      align: \"left\",\n      sortable: true\n    }, {\n      key: \"date\",\n      text: \"Date\",\n      className: \"date\",\n      align: \"left\",\n      sortable: true\n    }, {\n      key: \"action\",\n      text: \"Action\",\n      className: \"action\",\n      width: 100,\n      align: \"left\",\n      sortable: false,\n      cell: record => {\n        return /*#__PURE__*/_jsxDEV(Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            \"data-toggle\": \"modal\",\n            \"data-target\": \"#update-user-modal\",\n            className: \"btn btn-primary btn-sm\",\n            onClick: () => this.editRecord(record),\n            style: {\n              marginRight: '5px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 31\n            }, void 0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 27\n          }, void 0), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger btn-sm\",\n            onClick: () => this.deleteRecord(record),\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-trash\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 31\n            }, void 0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 27\n          }, void 0)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 23\n        }, void 0);\n      }\n    }];\n    this.config = {\n      page_size: 10,\n      length_menu: [10, 20, 50],\n      filename: \"Users\",\n      no_data_text: 'No user found!',\n      button: {\n        excel: true,\n        print: true,\n        csv: true\n      },\n      language: {\n        length_menu: \"Show _MENU_ result per page\",\n        filter: \"Filter in records...\",\n        info: \"Showing _START_ to _END_ of _TOTAL_ records\",\n        pagination: {\n          first: \"First\",\n          previous: \"Previous\",\n          next: \"Next\",\n          last: \"Last\"\n        }\n      },\n      show_length_menu: true,\n      show_filter: true,\n      show_pagination: true,\n      show_info: true\n    };\n    this.state = {\n      records: []\n    };\n    this.state = {\n      currentRecord: {\n        id: '',\n        name: '',\n        email: '',\n        password: '',\n        password2: ''\n      }\n    };\n    this.getData = this.getData.bind(this);\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.getData();\n  }\n\n  getData() {\n    axios.post(\"/api/user-data\").then(res => {\n      this.setState({\n        records: res.data\n      });\n    }).catch();\n  }\n\n  editRecord(record) {\n    this.setState({\n      currentRecord: record\n    });\n  }\n\n  deleteRecord(record) {\n    axios.post(\"/api/user-delete\", {\n      _id: record._id\n    }).then(res => {\n      if (res.status === 200) {\n        toast(res.data.message, {\n          position: toast.POSITION.TOP_CENTER\n        });\n      }\n    }).catch();\n    this.getData();\n  }\n\n  pageChange(pageData) {\n    console.log(\"OnPageChange\", pageData);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex\",\n        id: \"wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(UserAddModal, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(UserUpdateModal, {\n          record: this.state.currentRecord\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"page-content-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container-fluid\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-link mt-3\",\n              id: \"menu-toggle\",\n              children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faList\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 82\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-outline-primary float-right mt-3 mr-2\",\n              \"data-toggle\": \"modal\",\n              \"data-target\": \"#add-user-modal\",\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faPlus\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 143\n              }, this), \" Add User\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"mt-2 text-primary\",\n              children: \"Users List\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(ReactDatatable, {\n              config: this.config,\n              records: this.state.records,\n              columns: this.columns,\n              onPageChange: this.pageChange.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nUsersManagement.propTypes = {\n  auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  records: state.records\n});\n\nexport default connect(mapStateToProps)(UsersManagement);","map":{"version":3,"sources":["C:/Users/Laureen/Downloads/escort/client/src/components/adminDashboard/usersManagement/UsersManagement.js"],"names":["React","Component","Fragment","FontAwesomeIcon","faList","ReactDatatable","PropTypes","connect","axios","faPlus","UserAddModal","UserUpdateModal","toast","ToastContainer","UsersManagement","constructor","props","columns","key","text","className","align","sortable","width","cell","record","editRecord","marginRight","deleteRecord","config","page_size","length_menu","filename","no_data_text","button","excel","print","csv","language","filter","info","pagination","first","previous","next","last","show_length_menu","show_filter","show_pagination","show_info","state","records","currentRecord","id","name","email","password","password2","getData","bind","componentDidMount","componentWillReceiveProps","nextProps","post","then","res","setState","data","catch","_id","status","message","position","POSITION","TOP_CENTER","pageChange","pageData","console","log","render","propTypes","auth","object","isRequired","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\r\n// import \"../main/Main.css\";\r\n// import { useSelector } from \"react-redux\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faList} from \"@fortawesome/free-solid-svg-icons/faList\";\r\nimport ReactDatatable from '@ashvin27/react-datatable';\r\nimport PropTypes from \"prop-types\";\r\nimport {connect} from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport {faPlus} from \"@fortawesome/free-solid-svg-icons\";\r\nimport UserAddModal from \"./UserAddModal\";\r\nimport UserUpdateModal from \"./UserUpdateModal\";\r\nimport { toast, ToastContainer} from \"react-toastify\";\r\n\r\nclass UsersManagement extends Component {\r\n\r\n  constructor(props) {\r\n      super(props);\r\n\r\n      this.columns = [\r\n          {\r\n              key: \"_id\",\r\n              text: \"Id\",\r\n              className: \"id\",\r\n              align: \"left\",\r\n              sortable: true,\r\n          },\r\n          {\r\n              key: \"name\",\r\n              text: \"Name\",\r\n              className: \"name\",\r\n              align: \"left\",\r\n              sortable: true,\r\n          },\r\n          {\r\n              key: \"email\",\r\n              text: \"Email\",\r\n              className: \"email\",\r\n              align: \"left\",\r\n              sortable: true\r\n          },\r\n          {\r\n              key: \"date\",\r\n              text: \"Date\",\r\n              className: \"date\",\r\n              align: \"left\",\r\n              sortable: true\r\n          },\r\n          {\r\n              key: \"action\",\r\n              text: \"Action\",\r\n              className: \"action\",\r\n              width: 100,\r\n              align: \"left\",\r\n              sortable: false,\r\n              cell: record => {\r\n                  return (\r\n                      <Fragment>\r\n                          <button\r\n                              data-toggle=\"modal\"\r\n                              data-target=\"#update-user-modal\"\r\n                              className=\"btn btn-primary btn-sm\"\r\n                              onClick={() => this.editRecord(record)}\r\n                              style={{marginRight: '5px'}}>\r\n                              <i className=\"fa fa-edit\"></i>\r\n                          </button>\r\n                          <button\r\n                              className=\"btn btn-danger btn-sm\"\r\n                              onClick={() => this.deleteRecord(record)}>\r\n                              <i className=\"fa fa-trash\"></i>\r\n                          </button>\r\n                      </Fragment>\r\n                  );\r\n              }\r\n          }\r\n      ];\r\n\r\n      this.config = {\r\n          page_size: 10,\r\n          length_menu: [ 10, 20, 50 ],\r\n          filename: \"Users\",\r\n          no_data_text: 'No user found!',\r\n          button: {\r\n              excel: true,\r\n              print: true,\r\n              csv: true\r\n          },\r\n          language: {\r\n              length_menu: \"Show _MENU_ result per page\",\r\n              filter: \"Filter in records...\",\r\n              info: \"Showing _START_ to _END_ of _TOTAL_ records\",\r\n              pagination: {\r\n                  first: \"First\",\r\n                  previous: \"Previous\",\r\n                  next: \"Next\",\r\n                  last: \"Last\"\r\n              }\r\n          },\r\n          show_length_menu: true,\r\n          show_filter: true,\r\n          show_pagination: true,\r\n          show_info: true,\r\n      };\r\n\r\n      this.state = {\r\n          records: []\r\n      };\r\n\r\n      this.state = {\r\n          currentRecord: {\r\n              id: '',\r\n              name: '',\r\n              email: '',\r\n              password: '',\r\n              password2: '',\r\n          }\r\n      };\r\n\r\n      this.getData = this.getData.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n      this.getData()\r\n  };\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n      this.getData()\r\n  }\r\n\r\n  getData() {\r\n      axios\r\n          .post(\"/api/user-data\")\r\n          .then(res => {\r\n              this.setState({ records: res.data})\r\n          })\r\n          .catch()\r\n  }\r\n\r\n  editRecord(record) {\r\n      this.setState({ currentRecord: record});\r\n  }\r\n\r\n  deleteRecord(record) {\r\n      axios\r\n          .post(\"/api/user-delete\", {_id: record._id})\r\n          .then(res => {\r\n              if (res.status === 200) {\r\n                 toast(res.data.message, {\r\n                     position: toast.POSITION.TOP_CENTER,\r\n                 })\r\n              }\r\n          })\r\n          .catch();\r\n      this.getData();\r\n  }\r\n\r\n  pageChange(pageData) {\r\n      console.log(\"OnPageChange\", pageData);\r\n  }\r\n\r\n  render() {\r\n      return (\r\n          <div>\r\n              <div className=\"d-flex\" id=\"wrapper\">\r\n                  <UserAddModal/>\r\n                  <UserUpdateModal record={this.state.currentRecord}/>\r\n                  <div id=\"page-content-wrapper\">\r\n                      <div className=\"container-fluid\">\r\n                          <button className=\"btn btn-link mt-3\" id=\"menu-toggle\"><FontAwesomeIcon icon={faList}/></button>\r\n                          <button className=\"btn btn-outline-primary float-right mt-3 mr-2\" data-toggle=\"modal\" data-target=\"#add-user-modal\"><FontAwesomeIcon icon={faPlus}/> Add User</button>\r\n                          <h1 className=\"mt-2 text-primary\">Users List</h1>\r\n                          <ReactDatatable\r\n                              config={this.config}\r\n                              records={this.state.records}\r\n                              columns={this.columns}\r\n                              onPageChange={this.pageChange.bind(this)}\r\n                          />\r\n                      </div>\r\n                  </div>\r\n                  <ToastContainer/>\r\n              </div>\r\n          </div>\r\n      );\r\n  }\r\n\r\n}\r\n\r\nUsersManagement.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  records: state.records\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps\r\n)(UsersManagement);\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}